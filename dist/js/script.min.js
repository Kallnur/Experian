"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,o){return t&&_defineProperties(e.prototype,t),o&&_defineProperties(e,o),e}var windheight,experianLocalSave={windHeight:null,experianYourName:null,experianInPrilo:null,experianColorChame:null},maxheight=window.innerHeight;null!=(getLocalSave=JSON.parse(localStorage.getItem("experianLocalSave")))&&(windheight=getLocalSave.windHeight),getLocalSave?document.body.style.height=windheight+"px":(experianLocalSave.windHeight=maxheight,localStorage.setItem("experianLocalSave",JSON.stringify(experianLocalSave)),document.body.style.height=maxheight+"px");var yourNameLoc,canva=document.querySelector(".canvas"),ctx=canva.getContext("2d"),canvas2=document.querySelector(".canvas2"),canvas3=document.querySelector(".canvas3"),ctx3=canvas3.getContext("2d"),canvas4=document.querySelector(".canvas4"),outDraw=document.querySelectorAll(".outdraw"),outPoint=document.querySelectorAll(".outpoint"),outHole=document.querySelectorAll(".outhole"),outXz=document.querySelectorAll(".outxz"),itemDraw=document.querySelector(".draw"),itemPoint=document.querySelector(".point"),itemHole=document.querySelector(".hole"),itemXz=document.querySelector(".xz"),mouseDown=!1,header=document.querySelector(".header"),blockHell=document.querySelector(".hell"),inputName=document.querySelector(".hell-name"),blockName=document.querySelector(".right-block__name"),blockForm=document.querySelector(".hell-form"),blockText=document.querySelector(".hell-text"),inputBtn=document.querySelector(".hell-btn"),styleColor=document.querySelectorAll(".style-color"),item=document.querySelectorAll(".right-block__item"),avat=document.querySelector(".right-block__img"),cate=document.querySelectorAll(".right-block__cate");if(yourNameLoc=(getLocalSave=JSON.parse(localStorage.getItem("experianLocalSave"))).experianYourName?getLocalSave.experianYourName:yourNameLoc){blockName.textContent=yourNameLoc,blockForm.style.display="none",blockText.textContent="Welcom "+yourNameLoc+"...";var textWidth=blockText.textContent.length;blockText.style.width=textWidth+"ch",blockText.style.display="inline",blockText.style.animation="loadText .2s step-start ".concat(textWidth+2," both,\n\t\t\t\t\t\t\t\t print 4s steps(").concat(textWidth,", start)");for(var outHell=document.querySelectorAll(".outhell"),getLocalSave=JSON.parse(localStorage.getItem("experianLocalSave")),i=0;i<outHell.length;i++)outHell[i].style.display="none";blockHell.style.display="none",setTimeout(function(){blockHell.style.display="none"},280*(textWidth+2));var itemInLoc=getLocalSave.experianInPrilo;null==itemInLoc&&(getLocalSave.experianInPrilo=itemInLoc=0),item[itemInLoc].classList.add("active"),styleColor[1].classList.add("style-color--active"),localStorage.setItem("experianLocalSave",JSON.stringify(getLocalSave))}else{var warning=function(e,t){e&&e.classList.add("warn");var o=document.querySelector(".warn");setTimeout(function(){o&&o.classList.remove("warn")},t)};avat.src="";var clickBlock=document.createElement("div");clickBlock.classList.add("clickBlock"),document.body.appendChild(clickBlock);var deleteMe=document.querySelector(".clickBlock");""!==blockName.textContent&&(deleteMe.onclick=function(){""===inputName.value?warning(inputName,1e3):warning(inputBtn,1e3)}),inputBtn.onclick=function(){var e,t;inputName.value.match(/^[A-Za-z А-Яа-я]+$/)&&2<inputName.value.length?(e=inputName.value,blockName.textContent=e,blockForm.style.display="none",blockText.textContent="Welcom "+e+"...",t=blockText.textContent.length,blockText.style.width=t+"ch",blockText.style.display="inline",blockText.style.animation="loadText .2s step-start ".concat(t+2," both, \n\t\t\t\t\t\t\t\t\t\t print 4s steps(").concat(t,", start)"),getLocalSave.experianYourName=e,localStorage.setItem("experianLocalSave",JSON.stringify(getLocalSave)),setTimeout(function(){blockHell.style.display="none",canva.style.display="block",document.body.removeChild(deleteMe),drawin()},280*(t+2)),header.style.background="#151515",null==(t=(getLocalSave=JSON.parse(localStorage.getItem("experianLocalSave"))).experianInPrilo)&&(getLocalSave.experianInPrilo=t=0),item[t].classList.add("active"),null==getLocalSave.experianColorChame&&(getLocalSave.experianColorChame=1),styleColor[1].classList.add("style-color--active"),localStorage.setItem("experianLocalSave",JSON.stringify(getLocalSave)),avat.src="img/avatar.png"):(inputName.classList.add("warn"),inputName.value="")},inputName.onclick=function(){return warning(!1,100)}}var rightBlock=document.querySelector(".right-block__body"),headerBlock=document.querySelector(".container"),rightBlockWidth=rightBlock.offsetWidth,headerBlockHeight=headerBlock.offsetHeight,setingDraw=document.querySelector(".seting-draw"),setingPoint=document.querySelector(".seting-point"),setingHole=document.querySelector(".seting-hole"),setingXz=document.querySelector(".seting-xz"),setingAll=document.querySelectorAll(".seting"),setingActive=document.querySelector(".seting-active");function canvasPos(e){e.width=window.innerWidth-rightBlockWidth,e.height=windheight?windheight-headerBlockHeight:maxheight-headerBlockHeight,e.style.left=rightBlockWidth}function divPos(e){e.style.width=window.innerWidth-rightBlockWidth+"px",e.style.height=windheight?windheight-headerBlockHeight+"px":maxheight-headerBlockHeight+"px",e.style.left=rightBlockWidth+"px"}function toggleColor(e,t,o,n,a){header.style.background=e,rightBlock.style.background=t,header.style.color=o,rightBlock.style.color=n,blockName.style.color=a}canvasPos(canva),divPos(canvas2),canvasPos(canvas3),divPos(canvas4);for(var _i=0;_i<styleColor.length;_i++)styleColor[_i].onclick=function(){getLocalSave=JSON.parse(localStorage.getItem("experianLocalSave"));var e=document.querySelector(".style-color--active");return e&&e.classList.remove("style-color--active"),this.classList.add("style-color--active"),"Dark"===this.firstChild.textContent?(toggleColor("#151515","#181818","#EDEDED","#ffffe7","#a6ffff"),void(getLocalSave.experianColorChame=1)):"Light"===this.firstChild.textContent?(toggleColor("#ffffff","#ffffff","#181818","#151515","#111"),void(getLocalSave.experianColorChame=0)):"Sun"===this.firstChild.textContent?(toggleColor("linear-gradient(90deg, #DAA5A5, #DACAA5, #C5DAA5)","linear-gradient(#DAA5A5, #DACAA5, #C5DAA5)","#242424","#000000","#000000"),void(getLocalSave.experianColorChame=2)):void localStorage.setItem("experianLocalSave",JSON.stringify(getLocalSave))};function canvasClear(){ctx.clearRect(0,0,canva.width,canva.height)}function topSeting(){headerBlock.addEventListener("mouseover",function(){setingActive.style.transform="translateX(-50%) translateY(0)"}),headerBlock.addEventListener("mouseout",function(){setingActive.style.transform="translateX(-50%) translateY(-120%)"}),setingActive.addEventListener("mouseover",function(){setingActive.style.transform="translateX(-50%) translateY(0)"}),setingActive.addEventListener("mouseout",function(){setingActive.style.transform="translateX(-50%) translateY(-120%)"})}function winReload(){window.localStorage&&(localStorage.getItem("experianReloadWin")?localStorage.removeItem("experianReloadWin"):(localStorage.experianReloadWin=!0,window.location.reload()))}function drawin(e){itemDraw.classList.contains("onActive")||winReload();var t=document.querySelector(".onActive");t&&t.classList.remove("onActive"),itemDraw.classList.add("onActive"),canva.style.display="block";for(var o=0;o<outDraw.length;o++)outDraw[o].style.display="none";setingActive&&setingActive.classList.remove("seting-active"),setingDraw.classList.add("seting-active"),setingActive=document.querySelector(".seting-active"),topSeting();var n=document.querySelector(".seting-draw__color"),a=document.querySelector(".seting-draw__clear"),c=document.querySelector(".seting-draw__eraser"),i=document.querySelector(".seting-draw__bg"),l=document.querySelector(".seting-draw__save"),r=document.querySelector(".seting-draw__pancil"),s=document.querySelector(".seting-draw__sizeup"),t=document.querySelector(".seting-draw__sizedown"),u=document.querySelector(".seting-draw__size"),d=5;u.textContent=d,i.value="#ffffff",n.value="#000000",n.onchange=function(){var e=n.value;ctx.fillStyle=e,ctx.strokeStyle=e,r.style.color=e},i.onchange=function(){var e=i.value;canva.style.background=e},a.onclick=function(){return canvasClear()},c.onclick=function(){var e=i.value;ctx.globalCompositeOperation="destination-out",ctx.fillStyle=e,ctx.strokeStyle=e},r.onclick=function(){var e=n.value;ctx.globalCompositeOperation="source-over",ctx.fillStyle=e,ctx.strokeStyle=e},s.onclick=function(){20<=d&&(d=0),d++,u.textContent=d},t.onclick=function(){d<=1&&(d=21),d--,u.textContent=d},canva.addEventListener("mousemove",function(e){var t=e.clientX-rightBlockWidth,e=e.clientY-headerBlockHeight;ctx.lineWidth=2*d,mouseDown&&(ctx.lineTo(t,e),ctx.stroke(),ctx.beginPath(),ctx.arc(t,e,d,0,2*Math.PI),ctx.fill(),ctx.beginPath(),ctx.moveTo(t,e))}),l.onclick=function(){document.getElementById("save").download="image.png",document.getElementById("save").href=canva.toDataURL("image/png").replace(/^data:image\/[^;]/,"data:application/octet-stream")},canva.addEventListener("mouseout",function(){return mouseDown=!1})}function point(e){var t=document.querySelector(".onActive");t&&t.classList.remove("onActive"),canvas2.style.display="block";for(var o=0;o<outPoint.length;o++)outPoint[o].style.display="none";setingActive&&setingActive.classList.remove("seting-active"),setingPoint.classList.add("seting-active"),setingActive=document.querySelector(".seting-active"),topSeting();var i=document.querySelector(".clock__hour"),l=document.querySelector(".clock__min"),r=document.querySelector(".clock__sec"),s=document.querySelector(".numClock__hour"),u=document.querySelector(".numClock__min"),n=document.querySelectorAll(".touch"),a=document.querySelector(".seting-point__color"),c=document.querySelector(".seting-point__bg"),t=document.querySelector(".seting-point__point"),d=document.querySelector(".seting-point__toggle");c.value="#181818",a.value="#ED7916",canvas2.style.background=c.value,setInterval(function(){var e=new Date,t=e.getHours(),o=e.getMinutes(),n=e.getSeconds(),a=6*o,c=30*t,e=.5*o;r.style.transform="rotate(".concat(6*n,"deg)"),l.style.transform="rotate(".concat(a,"deg)"),i.style.transform="rotate(".concat(e+c,"deg)"),s.textContent=t<10?"0"+t:t,s.style.fontFamily="calibri",u.textContent=o<10?"0"+o:o,u.style.fontFamily="calibri"},0),d.style.left="0px",c.onchange=function(){var e=c.value;canvas2.style.background=e},a.onchange=function(){for(var e=a.value,t=0;t<n.length;t++)"0px"===d.style.left&&(n[t].style.background=e),n[t].style.color=e;s.style.color=e,u.style.color=e},t.onclick=function(){if("0px"===d.style.left){d.style.left="50%";for(var e=0;e<n.length;e++)n[e].style.background="none"}else{d.style.left="0px";for(var t=0;t<n.length;t++)n[t].style.background=a.value}};for(var v=0;v<n.length;v++)n[v].style.color=a.value,n[v].style.background=a.value;s.style.color=a.value,u.style.color=a.value}function hole(e){itemHole.classList.contains("onActive")||winReload();var t=document.querySelector(".onActive");t&&t.classList.remove("onActive"),itemHole.classList.add("onActive"),canvas3.style.display="block";for(var o=0;o<outHole.length;o++)outHole[o].style.display="none";setingActive&&setingActive.classList.remove("seting-active"),setingHole.classList.add("seting-active"),setingActive=document.querySelector(".seting-active"),topSeting();var u,n=document.querySelector(".seting-hole__bg"),a=document.querySelector(".seting-hole__color"),c=document.querySelector(".seting-hole__wrap"),i=document.querySelector(".seting-hole__minup"),l=document.querySelector(".seting-hole__mindown"),r=document.querySelector(".seting-hole__min"),s=document.querySelector(".seting-hole__maxup"),d=document.querySelector(".seting-hole__maxdown"),v=document.querySelector(".seting-hole__max"),m=document.querySelector(".seting-hole__speedup"),g=document.querySelector(".seting-hole__speeddown"),y=document.querySelector(".seting-hole__speed"),h=document.querySelector(".seting-hole__col"),t=document.querySelector(".seting-point__clear");n.onchange=function(){var e=n.value;canvas3.style.background=e},a.value="#00ffff",n.value="#ffffff";var f={dotMinRad:6,dotMaxRad:20,massFact:.002,color:c.value="#00ffff",smooth:.75,shinro:300,curRad:25,mouseShinro:120};function S(e){return e.match(/[^#]./g).map(function(e){return parseInt(e,16)})}y.textContent=60,i.onclick=function(){15<=f.dotMinRad&&(f.dotMinRad=5),f.dotMinRad++,r.textContent=f.dotMinRad},l.onclick=function(){f.dotMinRad<=6&&(f.dotMinRad=16),f.dotMinRad--,r.textContent=f.dotMinRad},s.onclick=function(){30<=f.dotMaxRad&&(f.dotMaxRad=14),f.dotMaxRad++,v.textContent=f.dotMaxRad},d.onclick=function(){f.dotMaxRad<=15&&(f.dotMaxRad=31),f.dotMaxRad--,v.textContent=f.dotMaxRad},m.onclick=function(){var e=parseInt(y.textContent)/100;1<=e&&(e=.05),f.smooth=e+=.05,y.textContent=Math.floor(100*e)},g.onclick=function(){var e=parseInt(y.textContent)/100;e<=.1&&(e=1.05),f.smooth=e-=.05,y.textContent=Math.floor(100*e)},c.onchange=function(){f.color=c.value};var x,p,k,L,w=2*Math.PI,_=function(){function o(e){var t;_classCallCheck(this,o),this.pos={x:k.x,y:k.y},this.val={x:0,y:0},this.rad=e||(t=f.dotMinRad,e=f.dotMaxRad,Math.random()*(e-t)+t),this.mass=this.rad*f.massFact,this.color=f.color}return _createClass(o,[{key:"draw",value:function(e,t){this.pos.x=e||this.pos.x+this.val.x,this.pos.y=t||this.pos.y+this.val.y,q(this.pos.x,this.pos.y,this.rad,!0,this.color),q(this.pos.x,this.pos.y,this.rad,!1,f.color),h.textContent=L.length}}]),o}();function q(e,t,o,n,a){ctx3.fillStyle=ctx3.strokeStyle=a,ctx3.beginPath(),ctx3.arc(e,t,o,0,w),ctx3.closePath,n?ctx3.fill():ctx3.stroke()}function b(){k.down=!k.down}u=S(a.value),a.onchange=function(){u=S(a.value),L[0].color=a.value},t.onclick=function(){L.splice(1)},x=canvas3.width,p=canvas3.height,k={x:x/2,y:p/2,down:!1},(L=[]).push(new _(f.curRad)),function e(){ctx3.clearRect(0,0,x,p),k.down&&L.push(new _),function(){for(var e=1;e<L.length;e++){for(var t,o,n,a,c,i,l,r={x:0,y:0},s=0;s<L.length;s++)e!=s&&(n=(o=(l=[L[e],L[s]])[1]).pos.x-(t=l[0]).pos.x,a=o.pos.y-t.pos.y,i=((c=Math.sqrt(n*n+a*a)||1)-f.shinro)/c*o.mass,0==s&&(l=f.mouseShinro/c,t.color="rgba(".concat(u,", ").concat(l,")"),i=c<f.mouseShinro?(c-f.mouseShinro)*o.mass:t.mass),r.x+=n*i,r.y+=a*i);L[e].val.x=L[e].val.x*f.smooth+r.x*L[e].mass,L[e].val.y=L[e].val.y*f.smooth+r.y*L[e].mass}L.map(function(e){return e==L[0]?e.draw(k.x,k.y):e.draw()})}(),window.requestAnimationFrame(e)}(),canvas3.addEventListener("mousemove",function(e){e=[e.layerX,e.layerY],k.x=e[0],k.y=e[1]}),canvas3.addEventListener("mousedown",b),canvas3.addEventListener("mouseup",b),canvas3.addEventListener("mouseout",function(){return k.down=!1})}function xz(e){var t=document.querySelector(".onActive");t&&t.classList.remove("onActive"),canvas4.style.display="block";for(var o=0;o<outXz.length;o++)outXz[o].style.display="none";setingActive&&setingActive.classList.remove("seting-active"),setingActive=document.querySelector(".seting-active");var n=document.querySelector(".item-html"),a=document.querySelector(".item-css"),c=document.querySelector(".item-js"),i=document.querySelector(".item-dop"),l=document.querySelector(".darkfon1"),r=document.querySelector(".darkfon2"),s=document.querySelector(".darkfon3"),u=document.querySelector(".darkfon4");function d(e,t){var o=t.getBoundingClientRect(),n=t.offsetWidth,a=t.offsetHeight,c=o.left+n/2,o=o.top+a/2,c=e.clientX-c,a=(25*(e.clientY-o)/(a/2)).toFixed(2),n=(-25*c/(n/2)).toFixed(2);setTimeout(function(){t.style.animation="none"},500),t.style.transform="perspective(1000px) rotateX(".concat(a,"deg) rotateY(").concat(n,"deg)")}n.addEventListener("mouseover",function(){l.classList.add("dark-active")}),n.addEventListener("mouseout",function(){l.classList.remove("dark-active"),n.style.transform="none"}),a.addEventListener("mouseover",function(){r.classList.add("dark-active")}),a.addEventListener("mouseout",function(){r.classList.remove("dark-active"),a.style.transform="none"}),c.addEventListener("mouseover",function(){s.classList.add("dark-active")}),c.addEventListener("mouseout",function(){s.classList.remove("dark-active"),c.style.transform="none"}),i.addEventListener("mouseover",function(){u.classList.add("dark-active")}),i.addEventListener("mouseout",function(){u.classList.remove("dark-active"),i.style.transform="none"}),n.addEventListener("mousemove",function(e){d(e,n)}),a.addEventListener("mousemove",function(e){d(e,a)}),c.addEventListener("mousemove",function(e){d(e,c)}),i.addEventListener("mousemove",function(e){d(e,i)}),console.log(n.offsetWidth)}canva.addEventListener("mousedown",function(){return mouseDown=!0}),canva.addEventListener("mouseup",function(){mouseDown=!1,ctx.beginPath()}),header.addEventListener("mousemove",function(){mouseDown=!1,ctx.beginPath()}),rightBlock.addEventListener("mousemove",function(){mouseDown=!1,ctx.beginPath()});for(var _loop=function(o){item[o].onclick=function(e){var t=document.querySelector(".active");switch(this.classList.contains("active")||canvasClear(),t&&t.classList.remove("active"),this.classList.add("active"),getLocalSave.experianInPrilo=o,localStorage.setItem("experianLocalSave",JSON.stringify(getLocalSave)),o){case 0:drawin();break;case 1:point();break;case 2:hole();break;case 3:xz()}}},_i11=0;_i11<item.length;_i11++)_loop(_i11);var priloActive=document.querySelector(".active");priloActive&&(priloActive.classList.contains("draw")?drawin():priloActive.classList.contains("point")?point():priloActive.classList.contains("hole")?hole():priloActive.classList.contains("xz")&&xz());